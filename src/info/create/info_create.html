<div class="container-fluid info-create">
    <ol class="am-breadcrumb ng-scope">
        <li><a class="am-icon-star" ui-sref="info-list">资讯管理</a></li>
        <li class="am-active">添加资讯</li>
    </ol>
    <hr>

    <div class="am-u-sm-6 am-margin-bottom">
        <div class="am-form-inline" role="form">
            <div class="am-form-group">
                <label class="am-form-label">资讯标题</label>
                <input type="text" ng-model="vm.info.subject" class="am-form-field" placeholder="请输入标题">
            </div>
        </div>
    </div>

    <div class="am-u-sm-6 am-margin-bottom">
        <div class="am-form-inline" role="form">
            <div class="am-form-group">
                <label class="am-form-label">作者</label>
                <input type="text" ng-model="vm.info.author" class="am-form-field" placeholder="请输入作者">
            </div>
        </div>
    </div>

    <div class="am-u-sm-12">
        <form class="am-form" ng-submit="vm.submitInfo(vm.info)">
            <div class="am-form-group">
                <label>正文内容</label>
                <textarea placeholder="输入文字介绍" rows="12" ng-model="vm.info.content"></textarea>
            </div>

            <div class="am-form-group">
                <label>图片</label>
                <small class="text-danger">最多添加6张</small>
            </div>

            <ul class="am-avg-sm-6 am-thumbnails">
                <li class="img-wrap" ng-repeat="picture in vm.info.pictures">
                    <span class="am-icon-times img-close" ng-click="vm.deleteNewFile(picture, $index)"
                          ng-show="picture.isNew"></span>

                    <div class="img-content">
                        <div class="img am-vertical-align text-center">
                            <img class="am-vertical-align-middle" ng-src="{{ picture.fileUrl }}"/>
                        </div>
                    </div>
                    <input class="am-form-field" ng-model="vm.info.pictures[$index].description">
                </li>

                <li class="am-form-group img-wrap"
                    ngf-change="vm.uploadFile($files)" ngf-select
                    ng-model="vm.pictureFile" ngf-multiple="true"
                    ngf-accept="'image/*'" accept="image/*"
                    ng-disabled="vm.info.pictures.length >= 6">
                    <div class="img-content add-btn">
                        <img src="../../app/images/add-button.png" alt=""/>
                    </div>
                </li>
            </ul>

            <div class="am-g">
                <div class="am-u-sm-2">
                    <button class="am-btn am-btn-block am-btn-warning am-btn-xl" ng-disabled="vm.info._saved">提交
                    </button>
                </div>
            </div>
        </form>
    </div>

</div>
