<div class="col-md-12">
  <h1 class="page-header">App注册用户管理</h1>
</div>

<div class="col-md-12">
    <input type="checkbox" ng-model="vm.tourists._checked" ng-change="vm.toggleCheckAll(vm.tourists._checked)">
    <button ng-click="vm.enableCheckedTourists()">冻结选定</button>
    <button ng-click="vm.disableCheckedTourists()">解冻选定</button>
</div>

<div class="col-md-12">
    <table class="table table-responsive">
      <thead>
        <tr>
          <th>用户昵称</th>
          <th>性别</th>
          <th>电话号码</th>
          <th>状态</th>
        </tr>
      </thead>

      <tfoot>
          <tr>
              <td colspan="4" class="text-center">
                  <pagination total-items="vm.querystring.total"
                              ng-model="vm.querystring.page"
                              items-per-page="vm.querystring.pageSize"
                              max-size="7"
                              class="pagination-sm"
                              boundary-links="true"
                              direction-links="true"
                              ng-change="vm.fetchTourists(vm.querystring)"
                  ></pagination>
              </td>
          </tr>
      </tfoot>

      <tbody>
        <tr ng-repeat='tourist in vm.tourists track by tourist._id'>
            <td>
                <input type="checkbox" ng-model="vm.tourists[$index]._checked">
            </td>
          <td>
              <a ui-sref="tourist-detail({ touristId: tourist._id })">
                  {{ tourist.nickname }}
              </a>
          </td>
          <td>
              <span ng-show="tourist.gender === 'male'">男</span>
              <span ng-show="tourist.gender === 'female'">女</span>
          </td>
          <td>{{ tourist.phone }}</td>
          <td>
              <span ng-show="tourist.status === 'enabled'">正常</span>
              <span ng-show="tourist.status === 'disabled'">冻结</span>
          </td>
        </tr>
      </tbody>
    </table>
</div>
